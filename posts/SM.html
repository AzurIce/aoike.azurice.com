<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Aoike青池</title>

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://aoike.azurice.com/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<!--<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>-->
<!--<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>-->
<!--<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>-->

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    SM.md
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        修改于 · 2021-02-20 09:42:59 · 发布于 · 2021-09-23 07:16:30
                    </time>
                </div>
                <div class="post-content">
                    <p><strong>Algorithm SM-0 used in spaced repetition without a computer (Aug 25, 1985)</strong></p>
<ol>
<li>
<p>Split the knowledge into smallest possible question-answer items</p>
</li>
<li>
<p>Associate items into groups containing 20-40 elements. These groups are later called pages</p>
</li>
<li>
<p>Repeat whole pages using the following intervals (in days):</p>
<p>I(1)=1 day</p>
<p>I(2)=7 days</p>
<p>I(3)=16 days</p>
<p>I(4)=35 days</p>
<p>for i&gt;4: I(i):=I(i-1)*2</p>
<p>where:</p>
<ul>
<li>I(i) is the interval used after the i-th repetition</li>
</ul>
</li>
<li>
<p>Copy all items forgotten after the 35th day interval into newly created pages (without removing them from previously used pages). Those new pages will be repeated in the same way as pages with items learned for the first time</p>
</li>
</ol>
<p>算法 SM-0 在没有计算机的间隔重复中使用(1985 年 8 月 25 日)。</p>
<ol>
<li>
<p>将知识分成尽可能小的问答项目。</p>
</li>
<li>
<p>将项目关联到包含 20 - 40 个元素的组中。这些组后来称为页面。</p>
</li>
<li>
<p>使用以下间隔(天)重复整个页面：<br>
I(1)= 1 天</p>
<p>I(2)= 7 天</p>
<p>I(3)= 16 天</p>
<p>I(4)= 35 天</p>
<p>for i&gt;4: I(i):=I(i-1)*2</p>
<p>这里：</p>
<ul>
<li>I(i) 是第i次重复后使用的间隔</li>
</ul>
</li>
<li>
<p>将 35 天间隔后忘记的所有项目复制到新创建的页面中(不从以前使用的页面中删除)。这些新页面将以与首次学习项目的页面相同的方式重复</p>
</li>
</ol>
<p>Note, that inter-repetition intervals after the fifth repetition were assumed to increase twice in subsequent repetitions. This fact was based on an intuition rather than on experiment. In two years of using the Algorithm SM-0 sufficient data were collected to confirm a reasonable accuracy of this assumption.</p>
<p>注意，假设第五次重复后的间隔在随后的重复中增加两次。这个事实是基于直觉而不是实验。在使用 SM-0 算法的两年中，收集了足够的数据来确认这一假设的合理准确性。</p>
<p><strong>3.2. 应用计算机对SuperMemo方法的计算结果进行改进</strong></p>
<p><strong>I wrote the first SuperMemo program in December 1987 (Turbo Pascal 3.0, IBM PC). It was intended to enhance the SuperMemo method in two basic ways:</strong></p>
<p><strong>我在 1987 年 12 月编写了第一个 SuperMemo 程序(Turbo Pascal 3.0, IBM PC)。它旨在以两种基本方式增强 SuperMemo 方法:</strong></p>
<ul>
<li>apply the optimization procedures to smallest possible <a href="https://supermemo.guru/wiki/Item">items</a> (in the <a href="https://supermemo.guru/wiki/Paper-based_SuperMemo">paper-based SuperMemo</a> items were grouped in pages),</li>
<li>将优化过程应用到尽可能小的<a href="https://supermemo.guru/wiki/Item">项目</a>（在<a href="https://supermemo.guru/wiki/paperbased_supermemo">基于纸张的 SuperMemo</a> 中被组织为页面）</li>
<li>differentiate between the items on the base of their different <a href="https://supermemo.guru/wiki/Difficulty">difficulty</a>.</li>
<li>根据不同的<a href="https://supermemo.guru/wiki/Difficulty">难度</a>来区分项目。</li>
</ul>
<p>Having observed that subsequent inter-repetition intervals are increasing by an approximately constant factor (e.g. two in the case of the SM-0 algorithm for English vocabulary), I decided to apply the following formula to calculate inter-repetition intervals:</p>
<p>观察到后续的重复间隔增加了一个近似常数的因子(例如英语词汇量的 SM-0 算法增加了两个)，我决定用下面的公式来计算重复间隔：</p>
<blockquote>
<p>I(1):=1</p>
<p>I(2):=6</p>
<p>for n&gt;2 I(n):=I(n-1)*EF</p>
<p>where:</p>
<ul>
<li>I(n) - inter-repetition interval after the n-th repetition (in days)</li>
<li>EF - easiness factor reflecting the easiness of memorizing and retaining a given item in memory (later called the <a href="https://supermemo.guru/wiki/E-Factor">E-Factor</a>).</li>
</ul>
<p>I(1) = 1</p>
<p>I(2) = 2</p>
<p>当 n &gt; 2 时 I(n) = I(n-1) * EF</p>
<p>上式中：</p>
<ul>
<li>I(n) - 重复 n 次后的重复间隔(以天为单位)</li>
<li>EF - 简易因子反映了记忆和记忆一个给定的项目的轻松程度(后来称为<a href="https://supermemo.guru/wiki/E-Factor">简易度</a>)。</li>
</ul>
</blockquote>
<p>E-Factors were allowed to vary between 1.1 for the most difficult items and 2.5 for the easiest ones. At the moment of introducing an item into a SuperMemo database, its E-Factor was assumed to equal 2.5. In the course of repetitions, this value was gradually decreased in case of recall problems. Thus the greater problems an item caused in recall the more significant was the decrease of its E-Factor.</p>
<p>简易度允许在最困难的 1.1 和最简单的 2.5 之间变化。在将一个项目引入 SuperMemo 数据库时，它的简易度被假定为 2.5。在重复的过程中，这个值会随着回忆问题的出现而逐渐降低。因此，一个项目在回忆中引起的问题越大，其简易度的降低就越显著。</p>
<p>Shortly after the first SuperMemo program had been implemented, I noticed that E-Factors should not fall below the value of 1.3. Items having E-Factors lower than 1.3 were repeated annoyingly often and always seemed to have inherent flaws in their formulation (usually they did not conform to the <a href="https://supermemo.guru/wiki/Minimum_information_principle">minimum information principle</a>). Thus not letting E-Factors fall below 1.3 substantially improved the throughput of the process and provided an indicator of items that should be reformulated. The formula used in calculating new E-Factors for items was constructed heuristically and did not change much in the following 3.5 years of using the computer-based SuperMemo method.</p>
<p>在第一个 SuperMemo 程序实现后不久，我注意到简易度不应该低于 1.3。简易度低于 1.3 的项目经常被重复使用，而且似乎总是存在固有的缺陷(通常它们不符合<a href="https://supermemo.guru/wiki/Minimum_information_principle">最小信息原则</a>)。因此，不让简易度降至 1.3 以下大大提高了流程的吞吐量，并为需要重新制定的项目提供了一个指标。计算项目新简易度的公式是启发式构造的，在接下来的 3.5 年里，使用基于计算机的 SuperMemo 方法并没有太大的变化。</p>
<p>In order to calculate the new value of an E-Factor, the student has to assess the quality of his response to the question asked during the repetition of an item (my SuperMemo programs use the 0-5 grade scale - the range determined by the ergonomics of using the numeric key-pad). The general form of the formula used was:</p>
<p>为了计算一个简易度的新值，学生必须评估他在重复一个项目时回答问题的质量(我的 SuperMemo 程序使用 0-5 级量表——使用数字键盘的人机工程学决定的范围)。公式的一般形式为：</p>
<blockquote>
<p>EF':=f(EF,q)</p>
<p>where:</p>
<ul>
<li>EF' - new value of the E-Factor</li>
<li>EF - old value of the E-Factor</li>
<li>q - quality of the response</li>
<li>f - function used in calculating EF'.</li>
</ul>
<p>EF':=f(EF,q)</p>
<p>上式中：</p>
<ul>
<li>EF' - 简易度的新值</li>
<li>EF - 简易度的旧值</li>
<li>q - 回答的质量</li>
<li>f - 用于计算 EF' 的函数。</li>
</ul>
</blockquote>
<p>The function f had initially multiplicative character and was in later versions of SuperMemo program, when the interpretation of E-Factors changed substantially, converted into an additive one without significant alteration of dependencies between EF', EF and q. To simplify further considerations only the function f in its latest shape is taken into account:</p>
<p>函数 f 最初具有乘法特性，在 SuperMemo 程序的后续版本中，当简易度的解释发生重大变化时，将其转换为加法因子，而不会显著改变 EF'、EF 和 q 之间的相关性。为简化进一步考虑，仅考虑最新形状的函数 f：</p>
<blockquote>
<p>EF':=EF-0.8+0.28<em>q-0.02</em>q*q</p>
</blockquote>
<p>which is a reduced form of:</p>
<p>这是以下形式的简化形式:</p>
<blockquote>
<p>EF':=EF+(0.1-(5-q)*(0.08+(5-q)*0.02))</p>
</blockquote>
<p>Note, that for q=4 the E-Factor does not change.</p>
<p>注意，对于 q=4，简易度没有变化。</p>
<p>Let us now consider the final form of the SM-2 algorithm that with minor changes was used in the SuperMemo programs, versions 1.0-3.0 between December 13, 1987 and March 9, 1989 (the name SM-2 was chosen because of the fact that SuperMemo 2.0 was by far the most popular version implementing this algorithm).</p>
<p>现在让我们考虑在 1987 年 12 月 13 日和 1989 年 3 月 9 日之间的 SuperMemo 程序中使用的 SM-2 算法的最终形式，版本 1.0-3.0 (选择 SM-2 是因为 SuperMemo 2.0 是目前实现该算法的最流行的版本)。</p>
<p>Algorithm SM-2 used in the computer-based variant of the SuperMemo method and involving the calculation of easiness factors for particular items:</p>
<p>基于计算机的 SuperMemo 方法的变体所用的算法 SM-2，涉及对特定项目的简易度的计算：</p>
<ol>
<li>Split the knowledge into smallest possible items.</li>
<li>With all items associate an E-Factor equal to 2.5.</li>
<li>Repeat items using the following intervals:</li>
<li>After each repetition assess the quality of repetition response in 0-5 grade scale:</li>
<li>After each repetition modify the E-Factor of the recently repeated item according to the formula:</li>
<li>If the quality response was lower than 3 then start repetitions for the item from the beginning without changing the E-Factor (i.e. use intervals I(1), I(2) etc. as if the item was memorized anew).</li>
<li>After each repetition session of a given day repeat again all items that scored below four in the quality assessment. Continue the repetitions until all of these items score at least four.</li>
<li>把知识分成尽可能小的部分。</li>
<li>所有项的简易度都等于 2.5。</li>
<li>使用以下间隔重复项目：</li>
<li>每次重复后用 0-5 级量表评定重复的反馈质量：</li>
<li>每次重复后，根据公式修改最近重复项的简易度。</li>
<li>如果反馈的质量低于 3，那么重复就重新开始，不要改变简易度(即使用间隔 I(1)，I(2) 等，就像重新记忆一样)。</li>
<li>在某一天的所有重复训练之后，重复所有在质量评估中得分低于 4 分的项目。继续重复，直到所有项目至少 4 分。</li>
</ol>
<p><strong>3.2. Application of a computer to improve the results obtained in working with the SuperMemo method</strong></p>
<p><strong>I wrote the first SuperMemo program in December 1987 (Turbo Pascal 3.0, IBM PC). It was intended to enhance the <a href="https://supermemo.guru/wiki/Spaced_repetition">SuperMemo method</a> in two basic ways:</strong></p>
<ul>
<li>apply the optimization procedures to smallest possible <a href="https://supermemo.guru/wiki/Item">items</a> (in the <a href="https://supermemo.guru/wiki/Paper-based_SuperMemo">paper-based SuperMemo</a> items were grouped in pages),</li>
<li>differentiate between the items on the base of their different <a href="https://supermemo.guru/wiki/Difficulty">difficulty</a>.</li>
</ul>
<p>Having observed that subsequent inter-repetition intervals are increasing by an approximately constant factor (e.g. two in the case of the SM-0 algorithm for English vocabulary), I decided to apply the following formula to calculate inter-repetition intervals:</p>
<blockquote>
<p>I(1):=1</p>
<p>I(2):=6</p>
<p>for n&gt;2 I(n):=I(n-1)*EF</p>
<p>where:</p>
<ul>
<li>I(n) - inter-repetition interval after the n-th repetition (in days)</li>
<li>EF - easiness factor reflecting the easiness of memorizing and retaining a given item in memory (later called the <a href="https://supermemo.guru/wiki/E-Factor">E-Factor</a>).</li>
</ul>
</blockquote>
<p>E-Factors were allowed to vary between 1.1 for the most difficult items and 2.5 for the easiest ones. At the moment of introducing an item into a SuperMemo database, its E-Factor was assumed to equal 2.5. In the course of repetitions, this value was gradually decreased in case of recall problems. Thus the greater problems an item caused in recall the more significant was the decrease of its E-Factor.</p>
<p>Shortly after the first SuperMemo program had been implemented, I noticed that E-Factors should not fall below the value of 1.3. Items having E-Factors lower than 1.3 were repeated annoyingly often and always seemed to have inherent flaws in their formulation (usually they did not conform to the <a href="https://supermemo.guru/wiki/Minimum_information_principle">minimum information principle</a>). Thus not letting E-Factors fall below 1.3 substantially improved the throughput of the process and provided an indicator of items that should be reformulated. The formula used in calculating new E-Factors for items was constructed heuristically and did not change much in the following 3.5 years of using the computer-based SuperMemo method.</p>
<p>In order to calculate the new value of an E-Factor, the student has to assess the quality of his response to the question asked during the repetition of an item (my SuperMemo programs use the 0-5 grade scale - the range determined by the ergonomics of using the numeric key-pad). The general form of the formula used was:</p>
<blockquote>
<p>EF':=f(EF,q)</p>
<p>where:</p>
<ul>
<li>EF' - new value of the E-Factor</li>
<li>EF - old value of the E-Factor</li>
<li>q - quality of the response</li>
<li>f - function used in calculating EF'.</li>
</ul>
</blockquote>
<p>The function f had initially multiplicative character and was in later versions of SuperMemo program, when the interpretation of E-Factors changed substantially, converted into an additive one without significant alteration of dependencies between EF', EF and q. To simplify further considerations only the function f in its latest shape is taken into account:</p>
<blockquote>
<p>EF':=EF-0.8+0.28<em>q-0.02</em>q*q</p>
</blockquote>
<p>which is a reduced form of:</p>
<blockquote>
<p>EF':=EF+(0.1-(5-q)*(0.08+(5-q)*0.02))</p>
</blockquote>
<p>Note, that for q=4 the E-Factor does not change.</p>
<p>Let us now consider the final form of the SM-2 algorithm that with minor changes was used in the SuperMemo programs, versions 1.0-3.0 between December 13, 1987 and March 9, 1989 (the name SM-2 was chosen because of the fact that SuperMemo 2.0 was by far the most popular version implementing this algorithm).</p>
<p>Algorithm SM-2 used in the computer-based variant of the SuperMemo method and involving the calculation of easiness factors for particular items:</p>
<ol>
<li>
<p>Split the knowledge into smallest possible items.</p>
</li>
<li>
<p>With all items associate an E-Factor equal to 2.5.</p>
</li>
<li>
<p>Repeat items using the following intervals:</p>
</li>
<li>
<p>After each repetition assess the quality of repetition response in 0-5 grade scale:</p>
</li>
<li>
<p>After each repetition, before computing the new</p>
<p>interval</p>
<p>, modify the</p>
<p>E-Factor</p>
<p>of the recently repeated</p>
<p>item</p>
<p>according to the formula:</p>
</li>
<li>
<p>If the <a href="https://supermemo.guru/wiki/Grade">quality of the response</a> was lower than 3 then start <a href="https://supermemo.guru/wiki/Repetition">repetitions</a> for the <a href="https://supermemo.guru/wiki/Item">item</a> from the beginning without changing the <a href="https://supermemo.guru/wiki/E-Factor">E-Factor</a> (i.e. use intervals I(1), I(2) etc. as if the item was memorized anew).</p>
</li>
<li>
<p>After each repetition session of a given day repeat again all items that scored below four in the quality assessment. Continue the repetitions until all of these items score at least four.</p>
</li>
</ol>
<p>The optimization procedure used in finding E-Factors proved to be very effective. In SuperMemo programs you will always find an option for displaying the distribution of E-Factors (later called the E-Distribution). The shape of the E-Distribution in a given database was roughly established within few months since the outset of repetitions. This means that E-Factors did not change significantly after that period and it is safe to presume that E-Factors correspond roughly to the real factor by which the inter-repetition intervals should increase in successive repetitions.</p>
<p>During the first year of using the SM-2 algorithm (learning English vocabulary), I memorized 10,255 items. The time required for creating the database and for repetitions amounted to 41 minutes per day. This corresponds to the acquisition rate of 270 items/year/min. The overall retention was 89.3%, but after excluding the recently memorized items (intervals below 3 weeks) which do not exhibit properly determined E-Factors the retention amounted to 92%. Comparing the SM-0 and SM-2 algorithms one must consider the fact that in the former case the retention was artificially high because of hints the student is given while repeating items of a given page. Items preceding the one in question can easily suggest the correct answer.</p>
<p>Therefore the Algorithm SM-2, though not stunning in terms of quantitative comparisons, marked the second major improvement of the <a href="https://supermemo.guru/wiki/SuperMemo">SuperMemo</a> method after the introduction of the concept of <a href="https://supermemo.guru/wiki/Optimal_interval">optimal intervals</a> back in 1985. Separating items previously grouped in pages and introducing <a href="https://supermemo.guru/wiki/E-Factor">E-Factors</a> were the two major components of the improved algorithm. Constructed by means of the trial-and-error approach, the SM-2 algorithm proved in practice the correctness of nearly all basic assumptions that led to its conception</p>
<p><img src="SM.assets/image-20210220094242559.png" alt="image-20210220094242559"></p>
<p><strong>Algorithm SM-4 used in SuperMemo 4.0</strong>:</p>
<ol>
<li>Split the knowledge into smallest possible items</li>
<li>With all items associate an <a href="https://supermemo.guru/wiki/E-Factor">E-Factor</a> equal to 2.5</li>
<li>Tabulate the OI matrix for various repetition numbers and E-Factor categories</li>
<li>Use the following repetition spacing to obtain the initial OI matrix:
<ul>
<li>OI(1,EF)=1</li>
<li>OI(2,EF)=6</li>
<li>for n&gt;2 OI(n,EF)=OI(n-1,EF)*EF
<ul>
<li>OI(n,EF) - optimal inter-repetition interval after the n-th repetition (in days) for items with E-Factor equal EF,</li>
</ul>
</li>
</ul>
</li>
<li>Use the OI matrix to determine inter-repetition intervals:
<ul>
<li>I(n, EF) = OI(n, EF)
<ul>
<li>I(n,EF) - the n-th inter-repetition interval for an item whose E-Factor equals EF (in days),</li>
<li>OI(n,EF) - the entry of the OI matrix corresponding to the n-th repetition and the E-Factor EF</li>
</ul>
</li>
</ul>
</li>
<li>After each repetition estimate the <a href="https://supermemo.guru/wiki/Grade">quality of the repetition response</a> in the 0-5 grade scale (see <a href="https://supermemo.guru/wiki/Algorithm_SM-2">Algorithm SM-2</a>).</li>
<li>After each repetition modify the E-Factor of the recently repeated item according to the formula:
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><msup><mi>F</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>=</mo><mi>E</mi><mi>F</mi><mo>+</mo><mo>(</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>1</mn><mo>−</mo><mo>(</mo><mn>5</mn><mo>−</mo><mi>q</mi><mo>)</mo><mo>×</mo><mo>(</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>8</mn><mo>+</mo><mo>(</mo><mn>5</mn><mo>−</mo><mi>q</mi><mo>)</mo><mo>×</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>2</mn><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">EF&#x27;=EF+(0.1-(5-q)\times(0.08+(5-q)\times0.02))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.751892em;"></span><span class="strut bottom" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mbin">+</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mopen">(</span><span class="mord mathrm">5</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mbin">×</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">0</span><span class="mord mathrm">8</span><span class="mbin">+</span><span class="mopen">(</span><span class="mord mathrm">5</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mbin">×</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">0</span><span class="mord mathrm">2</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>
<ul>
<li>EF' - new value of the E-Factor,</li>
<li>EF - old value of the E-Factor,</li>
<li>q - quality of the response in the 0-5 grade scale.</li>
</ul>
</li>
<li>If EF is less than 1.3 then let EF be 1.3.</li>
</ul>
</li>
<li>After each repetition modify the relevant entry of the OI matrix.</li>
<li>An exemplary formula could look as follows (the actual formula used in SuperMemo 4 was more intricate):
<ul>
<li>OI'=interval+\cfrac{interval\times (1-\cfrac{1}{EF})}{2}\times(0.25\times q-1)</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><msup><mi>I</mi><mrow><mi mathvariant="normal">′</mi><mi mathvariant="normal">′</mi></mrow></msup><mo>=</mo><mo>(</mo><mn>1</mn><mo>−</mo><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>)</mo><mo>×</mo><mi>O</mi><mi>I</mi><mo>+</mo><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>×</mo><mi>O</mi><msup><mi>I</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow><annotation encoding="application/x-tex">OI&#x27;&#x27;=(1-fraction)\times OI+fraction\times OI&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.751892em;"></span><span class="strut bottom" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mbin">×</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mbin">×</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>
<ul>
<li>OI <em>- new value of the OI entry,</em></li>
<li>OI' - auxiliary value of the OI entry used in calculations,</li>
<li>OI - old value of the OI entry,</li>
<li>interval - interval used before the considered repetition (i.e. the last used interval for the given item),</li>
<li>fraction - any number between 0 and 1 (the greater it is the faster the changes of the OI matrix),</li>
<li>EF - E-Factor of the repeated item,</li>
<li>q - quality of the response in the 0-5 grade scale.</li>
</ul>
</li>
<li>Note that for q=4 the OI does not change and that for q=5 the OI increases 4 times less than it decreases for q=0.</li>
<li>Note also that the maximum change of the OI equals (I(n)-I(n-1))/2 in terms of the repetition spacing used in Algorithm SM-2 (i.e. (OI-OI/EF)/2).</li>
</ul>
</li>
<li>If the quality response was lower than 3 then start repetitions for the item from the beginning without changing the E-Factor.</li>
<li>After each repetition session of a given day repeat again all the items that scored below four in the quality assessment. Continue the repetitions until all of these items score at least four</li>
</ol>
<p><strong>算法SM-4在SuperMemo4.0中的应用</strong></p>
<ol>
<li>
<h3>算法</h3>
<ol>
<li>将知识分解为最小的卡片</li>
<li>所有卡片的 EF 设置为 2.5</li>
<li>列出以重复次数和 EF 为索引的 OI 矩阵</li>
<li>使用下面的重复间隔来初始化 OI 矩阵：
<ul>
<li>OI(1,EF)=1</li>
<li>OI(2,EF)=6</li>
<li>for n&gt;2 OI(n,EF)=OI(n-1,EF)*EF
<ul>
<li>OI(n,EF) - 难度为 EF 的卡片在第 n 次复习时的最优间隔</li>
</ul>
</li>
</ul>
</li>
<li>使用 OI 矩阵来确定重复间隔：
<ul>
<li>I(n, EF) = OI(n, EF)
<ul>
<li>I(n, EF) - 难度为 EF 的卡片在第 n 次复习时的间隔</li>
<li>OI(n, EF) - OI 矩阵对应 n 和 EF 的值</li>
</ul>
</li>
</ul>
</li>
<li>每次重复后都用 0-5 的成绩来给回忆质量打分</li>
<li>每次重复后都根据下列公式修改 EF：
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><msup><mi>F</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>=</mo><mi>E</mi><mi>F</mi><mo>+</mo><mo>(</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>1</mn><mo>−</mo><mo>(</mo><mn>5</mn><mo>−</mo><mi>q</mi><mo>)</mo><mo>×</mo><mo>(</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>8</mn><mo>+</mo><mo>(</mo><mn>5</mn><mo>−</mo><mi>q</mi><mo>)</mo><mo>×</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>2</mn><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">EF&#x27;=EF+(0.1-(5-q)\times(0.08+(5-q)\times0.02))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.751892em;"></span><span class="strut bottom" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mbin">+</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mopen">(</span><span class="mord mathrm">5</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mbin">×</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">0</span><span class="mord mathrm">8</span><span class="mbin">+</span><span class="mopen">(</span><span class="mord mathrm">5</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mbin">×</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">0</span><span class="mord mathrm">2</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>
<ul>
<li>EF' - EF 的新值</li>
<li>EF - EF 的旧值</li>
<li>q - 回忆质量打分</li>
</ul>
</li>
<li>如果 EF &lt; 1.3 则令 EF = 1.3</li>
</ul>
</li>
<li>每次重复后都修改 OI 矩阵上的相关项</li>
<li>一个示例公式如下（SM-4 中实际使用的公式更复杂）：
<ul>
<li>OI'=interval+\cfrac{interval\times (1-\cfrac{1}{EF})}{2}\times(0.25\times q-1)</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><msup><mi>I</mi><mrow><mi mathvariant="normal">′</mi><mi mathvariant="normal">′</mi></mrow></msup><mo>=</mo><mo>(</mo><mn>1</mn><mo>−</mo><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>)</mo><mo>×</mo><mi>O</mi><mi>I</mi><mo>+</mo><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>×</mo><mi>O</mi><msup><mi>I</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow><annotation encoding="application/x-tex">OI&#x27;&#x27;=(1-fraction)\times OI+fraction\times OI&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.751892em;"></span><span class="strut bottom" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mbin">×</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mbin">×</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>
<ul>
<li>OI - OI 对应项的旧值</li>
<li>OI' - 计算 OI 对应项新值的辅助值</li>
<li>OI'' - OI 对应项的新值</li>
<li>interval - 之前的间隔</li>
<li>fraction - 调和参数</li>
<li>EF - 重复卡片的 EF</li>
<li>q - 回忆质量评分</li>
</ul>
</li>
<li>注意，当 q = 4 时 OI 不会改变，当 q = 5 时 OI 增长是 q = 0 时减少的 4 分之一</li>
</ul>
</li>
<li>如果回忆质量小于 3，卡片重新开始复习，并且不改变其 EF</li>
<li>在某一天的每次重复练习之后，再重复那些在回忆质量评分中得分低于4分的卡片。继续重复，直到所有这些卡片得分至少4分。</li>
</ol>
</li>
</ol>
<p><strong>The final formulation of the algorithm used in SuperMemo 5 is presented below (Algorithm SM-5):</strong></p>
<ol>
<li>Split the knowledge into smallest possible items</li>
<li>With all items associate an <a href="https://supermemo.guru/wiki/E-Factor">E-Factor</a> equal to 2.5</li>
<li>Tabulate the OF matrix for various repetition numbers and E-Factor categories. Use the following formula:
<ol>
<li>OF(1,EF):=4</li>
<li>for n&gt;1 OF(n,EF):=EF</li>
<li>where:
<ol>
<li>OF(n,EF) - optimal factor corresponding to the n-th repetition and the E-Factor EF</li>
</ol>
</li>
</ol>
</li>
<li>Use the OF matrix to determine inter-repetition intervals:
<ol>
<li>I(n,EF)=OF(n,EF)*I(n-1,EF)</li>
<li>I(1,EF)=OF(1,EF)</li>
<li>where:
<ol>
<li>I(n,EF) - the n-th inter-repetition interval for an item of a given E-Factor EF (in days)</li>
<li>OF(n,EF) - the entry of the OF matrix corresponding to the n-th repetition and the E-Factor EF</li>
</ol>
</li>
</ol>
</li>
<li>After each repetition assess the <a href="https://supermemo.guru/wiki/Grade">quality of repetition responses</a> in the 0-5 grade scale (cf. Algorithm SM-2)</li>
<li>After each repetition modify the E-Factor of the recently repeated item according to the formula:
<ol>
<li>EF':=EF+(0.1-(5-q)*(0.08+(5-q)*0.02))</li>
<li>where:
<ol>
<li>EF' - new value of the E-Factor</li>
<li>EF - old value of the E-Factor</li>
<li>q - <a href="https://supermemo.guru/wiki/Grade">quality of the response</a> in the 0-5 grade scale</li>
</ol>
</li>
<li>If EF is less than 1.3 then set EF to 1.3</li>
</ol>
</li>
<li>After each repetition modify the relevant entry of the OF matrix. Exemplary formulas constructed arbitrarily and used in the modification could look like this:
<ol>
<li>OF':=OF*(0.72+q*0.07)</li>
<li>OF*:=(1-fraction)<em>OF+fraction</em>OF'*</li>
<li>where:
<ol>
<li>OF <em>- new value of the OF entry</em></li>
<li>OF' - auxiliary value of the OF entry used in calculations</li>
<li>OF - old value of the OF entry</li>
<li>fraction - any number between 0 and 1 (the greater it is the faster the changes of the OF matrix)</li>
<li>q - <a href="https://supermemo.guru/wiki/Grade">quality of the response</a> in the 0-5 grade scale</li>
</ol>
</li>
<li>Note that for q=4 the OF does not change. It increases for q&gt;4 and decreases for q&lt;4.</li>
</ol>
</li>
<li>If the quality response was lower than 3 then start repetitions for the item from the beginning without changing the E-Factor</li>
<li>After each repetition session of a given day repeat again all items that scored below four in the <a href="https://supermemo.guru/wiki/Grade">quality assessment</a>. Continue the <a href="https://supermemo.guru/wiki/Repetition">repetitions</a> until all of these <a href="https://supermemo.guru/wiki/Item">items</a> score at least four</li>
</ol>
<p><strong>SuperMemo 5算法的最终公式如下(算法SM-5):</strong></p>
<ol>
<li>将知识分成尽可能小的项目</li>
<li>所有项目的 <a href="https://supermemo.guru/wiki/E-Factor">E-Factor</a> 等于 2.5</li>
<li>将不同重复次数和 EF 类别的矩阵制表。使用以下公式：
<ol>
<li>OF(1,EF):=4</li>
<li>for n&gt;1 OF(n,EF):=EF</li>
<li>其中：
<ol>
<li>OF(n,EF) - 对应给定简易度和连续复习次数 n 的最优因子</li>
</ol>
</li>
</ol>
</li>
<li>使用 OF 矩阵确定重复间隔：
<ol>
<li>I(n,EF)=OF(n,EF)*I(n-1,EF)</li>
<li>I(1,EF)=OF(1,EF)</li>
<li>其中：
<ol>
<li>I(n,EF) - 给定 EF 值的卡片的连续第 n 个间隔</li>
<li>OF(n,EF) - OF 矩阵对应给定简易度和连续复习次数 n 的 OF 值</li>
</ol>
</li>
</ol>
</li>
<li>在每次重复之后，在 0-5 级量表中评估<a href="https://supermemo.guru/wiki/Grade">成绩</a> (cf.算法SM-2)</li>
<li>每次重复后，根据公式修改最近重复项的e因子：
<ol>
<li>EF':=EF+(0.1-(5-q)*(0.08+(5-q)*0.02))</li>
<li>其中：
<ol>
<li>EF' - 简易度的新值</li>
<li>EF - 简易度的旧值</li>
<li>q - <a href="https://supermemo.guru/wiki/Grade">quality of the response</a> in the 0-5 grade scale</li>
</ol>
</li>
<li>如果 EF 小于 1.3，则将 EF 设置为 1.3</li>
</ol>
</li>
<li>每次重复后修改矩阵的相关项目。任意构造并在修改中使用的示例性公式可以是这样的：
<ol>
<li>OF':=OF*(0.72+q*0.07)</li>
<li>OF*:=(1-fraction)<em>OF+fraction</em>OF'*</li>
<li>其中：
<ol>
<li>OF *- OF 的新值</li>
<li>OF' - 计算 OF 新值的辅助值</li>
<li>OF - OF 的旧值</li>
<li>fraction - 0~1之间的一个值，越大 OF 改变越大</li>
<li>q - <a href="https://supermemo.guru/wiki/Grade">回忆质量打分</a> 0 - 5</li>
</ol>
</li>
<li>请注意，对于 q=4 ，OF 不变。q&gt;4 时增大，q&lt;4 时减小。</li>
</ol>
</li>
<li>如果 q 小于 3，则不改变 EF 的值，项目从头开始复习。</li>
<li>在某一天的每一次重复之后，重复所有在<a href="https://supermemo.guru/wiki/Grade">回忆质量打分</a>中得分低于 4 分的项目。继续<a href="https://supermemo.guru/wiki/Repetition">重复</a>，直到所有这些<a href="https://supermemo.guru/wiki/Item">项目</a>得分至少 4 分</li>
</ol>

                </div>
            </article>
        </div>

    </div>
</div>
</body>
</html>
