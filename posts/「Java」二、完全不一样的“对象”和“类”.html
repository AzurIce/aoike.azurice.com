<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Aoike青池</title>

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://aoike.azurice.com/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<!--<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>-->
<!--<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>-->
<!--<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>-->

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>

    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>

    <div class="main gt-bg-theme-color-first">

        <div class="post-container">
            <div class="post-detail gt-bg-theme-color-second">
                <article class="gt-post-content">
                    <h2 class="post-title">
                        「Java」二、完全不一样的“对象”和“类”.md
                    </h2>
                    <div class="post-info">
                        <time class="post-time gt-c-content-color-first">
                            修改于 · 2021-12-20 11:04:15 · 发布于 · 2021-12-20 03:52:00
                        </time>
                    </div>
                    <div class="post-content">
                        <h1>「Java」二、完全不一样的“对象”和“类”</h1>
<p><strong>对象 Object</strong>，有自己的属性，自己还能够做出一些行为。</p>
<p><strong>类 Class</strong>，是用来描述对象的样子的。</p>
<p>可以说 <strong>Class</strong> 很像结构体，而 <strong>Object</strong> 很像一个结构体变量，唯一的区别就是，类和对象其中可以有函数，在这里被称作 <strong>方法 Method</strong>。</p>
<p>这一篇，用以初步理解 <strong>对象</strong> 和 <strong>类</strong> 的概念。</p>
<h2>一、写个像结构体的类</h2>
<h3>1.1 声明一个 Good 类</h3>
<pre><code class="hljs language-java"><span class="hljs-keyword">package</span> com.azurice;

<span class="hljs-comment">// 声明一个 Good 类</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Good</span> </span>{
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        System.out.println(<span class="hljs-string">&quot;HelloWorld!&quot;</span>);
    }
}
</code></pre>
<p>是不是很像结构体。</p>
<h3>1.2 声明一个 Good 类的对象</h3>
<pre><code class="hljs language-java"><span class="hljs-keyword">package</span> com.azurice;

<span class="hljs-comment">// 声明一个 Good 类</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Good</span> </span>{
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        <span class="hljs-comment">// 声明了一个 Good 类的对象</span>
        Good g;
        
        System.out.println(g); <span class="hljs-comment">// 编译器报错，变量未初始化</span>
    }
}
</code></pre>
<p>这里生命出来的对象其实像是一个指针，它还并没有关联到一个具体的对象身上。</p>
<p>如果在这个时候访问这个对象，编译器会产生错误不允许编译，因为这个变量并没有初始化（对象并没有实例化）。</p>
<h3>1.3 实例化对象</h3>
<p>引入一个语句：<code><span class="hljs-keyword">new</span></code> 来创建一个具体的对象（实例化对象）。</p>
<pre><code class="hljs language-java"><span class="hljs-keyword">package</span> com.azurice;

<span class="hljs-comment">// 声明一个 Good 类</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Good</span> </span>{
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        <span class="hljs-comment">// 声明了一个 Good 类的对象</span>
        Good g;
        
        g = <span class="hljs-keyword">new</span> Good();
        
        System.out.println(g);
    }
}
</code></pre>
<p>得到输出：</p>
<pre><code class="hljs"><span class="hljs-attribute">com</span>.azurice.Good@<span class="hljs-number">4</span>eec<span class="hljs-number">7777</span>
</code></pre>
<p><code><span class="hljs-meta">@</span></code> 前是对象所属的类，<code><span class="hljs-meta">@</span></code> 后是地址。</p>
<p>看看它的值：</p>
<pre><code class="hljs language-java">System.out.println(g.id);
System.out.println(g.stock);
System.out.println(g.price);
</code></pre>
<p>得到输出：</p>
<pre><code class="hljs"><span class="hljs-attribute">0</span>
<span class="hljs-attribute">0</span>
<span class="hljs-attribute">0</span>.<span class="hljs-number">0</span>
</code></pre>
<p>你可以像对结构体成员操作一样来对这个对象的属性进行操作：</p>
<pre><code class="hljs language-java">g.id = <span class="hljs-number">1</span>;
g.stock = <span class="hljs-number">7</span>
g.price = <span class="hljs-number">9.96f</span>;
System.out.println(g.id);
System.out.println(g.stock);
System.out.println(g.price);
</code></pre>
<p>得到输出：</p>
<pre><code class="hljs"><span class="hljs-attribute">1</span>
<span class="hljs-attribute">7</span>
<span class="hljs-attribute">9</span>.<span class="hljs-number">96</span>
</code></pre>
<h3>1.4 整理 &amp; 与C语言对比</h3>
<p><strong>Java语言</strong>：</p>
<pre><code class="hljs language-java"><span class="hljs-keyword">package</span> com.azurice;

<span class="hljs-comment">// 声明一个 Good 类</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Good</span> </span>{
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        <span class="hljs-comment">// 声明了一个 Good 类的对象</span>
        Good g;
        
        g = <span class="hljs-keyword">new</span> Good();
        
        g.id = <span class="hljs-number">1</span>;
        g.stock = <span class="hljs-number">7</span>;
        g.price = <span class="hljs-number">9.96f</span>;
        
        System.out.println(g.id);
        System.out.println(g.stock);
        System.out.println(g.price);
    }
}
</code></pre>
<p><strong>C语言</strong></p>
<pre><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h></span></span>

<span class="hljs-comment">// 声明一个 Good 结构体</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Good</span> {</span>
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
}；

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// 声明了一个 Good 结构体的指针</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Good</span> *<span class="hljs-title">g</span>;</span>

    g = (Good *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(struct Good));

    g->id = <span class="hljs-number">1</span>;
    g->stock = <span class="hljs-number">7</span>
    g->price = <span class="hljs-number">9.96</span>;

    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, g->id);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, g->stock);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%f\n&quot;</span>, g->price);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2>二、给类写点不像结构体的东西</h2>
<h3>2.1 方法</h3>
<p>刚刚提到，类之中可以包含函数，叫做 <strong>方法</strong>。</p>
<p>程序开始运行的 &quot;Main 函数&quot;，在 &quot;class Main&quot;（<strong>主类</strong>）中，因此我们称其为 &quot;<strong>Main 方法</strong>&quot;。</p>
<p>那么我们在类里写一个打印信息的函数试试：</p>
<pre><code class="hljs language-java">struct Good {
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
    
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printInfo</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">&quot;id: &quot;</span> + id);
        System.out.println(<span class="hljs-string">&quot;stock: &quot;</span> + g.stock);
        System.out.println(<span class="hljs-string">&quot;price: &quot;</span> + price);
    }
}；
</code></pre>
<p>在主方法中可以调用：</p>
<pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
    <span class="hljs-comment">// 声明了一个 Good 类的对象</span>
    Good g;

    g = <span class="hljs-keyword">new</span> Good();

    g.id = <span class="hljs-number">1</span>;
    g.stock = <span class="hljs-number">7</span>;
    g.price = <span class="hljs-number">9.96f</span>;

    g.printInfo(); <span class="hljs-comment">// 调用 g 的 printInfo 方法</span>
}
</code></pre>
<p>得到输出：</p>
<pre><code class="hljs"><span class="hljs-attribute">id</span>: <span class="hljs-number">1</span>
<span class="hljs-attribute">stock</span>: <span class="hljs-number">7</span>
<span class="hljs-attribute">price</span>: <span class="hljs-number">9</span>.<span class="hljs-number">96</span>
</code></pre>
<h3>2.2 另一个方法</h3>
<p>当然，方法也可以有参数，有返回值，还可以修改自身的属性：</p>
<pre><code class="hljs language-java">struct Good {
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
    
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printInfo</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">&quot;id: &quot;</span> + id);
        System.out.println(<span class="hljs-string">&quot;stock: &quot;</span> + stock);
        System.out.println(<span class="hljs-string">&quot;price: &quot;</span> + price);
    }
    
    <span class="hljs-comment">// 成功卖出返回 true，否则返回 false</span>
    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">sell</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span> </span>{
        <span class="hljs-keyword">if</span> (num > stock) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        } <span class="hljs-keyword">else</span> {
            stock -= num;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
    }
}；
</code></pre>
<p>主方法：</p>
<pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
    Good g;

    g = <span class="hljs-keyword">new</span> Good();

    g.id = <span class="hljs-number">1</span>;
    g.stock = <span class="hljs-number">7</span>;
    g.price = <span class="hljs-number">9.96f</span>;

    g.printInfo();
    <span class="hljs-keyword">if</span> (!g.sell(<span class="hljs-number">8</span>)) {
    	System.out.println(<span class="hljs-string">&quot;Don&#x27;t have enough stock&quot;</span>);
    } <span class="hljs-keyword">else</span> {
    	System.out.println(<span class="hljs-string">&quot;Sell success&quot;</span>);
    }
    g.printInfo();
    <span class="hljs-keyword">if</span> (!g.sell(<span class="hljs-number">2</span>)) {
    	System.out.println(<span class="hljs-string">&quot;Don&#x27;t have enough stock&quot;</span>);
    } <span class="hljs-keyword">else</span> {
    	System.out.println(<span class="hljs-string">&quot;Sell success&quot;</span>);
    }
    g.printInfo();
}
</code></pre>
<p>得到输出：</p>
<pre><code class="hljs"><span class="hljs-attribute">id</span>: <span class="hljs-number">1</span>
<span class="hljs-attribute">stock</span>: <span class="hljs-number">7</span>
<span class="hljs-attribute">price</span>: <span class="hljs-number">9</span>.<span class="hljs-number">96</span>
<span class="hljs-attribute">Don</span>&#x27;t have enough stock
<span class="hljs-attribute">id</span>: <span class="hljs-number">1</span>
<span class="hljs-attribute">stock</span>: <span class="hljs-number">7</span>
<span class="hljs-attribute">price</span>: <span class="hljs-number">9</span>.<span class="hljs-number">96</span>
<span class="hljs-attribute">Sell</span> success
<span class="hljs-attribute">id</span>: <span class="hljs-number">1</span>
<span class="hljs-attribute">stock</span>: <span class="hljs-number">5</span>
<span class="hljs-attribute">price</span>: <span class="hljs-number">9</span>.<span class="hljs-number">96</span>
</code></pre>
<h3>2.3 更特殊的东西 —— 构造函数</h3>
<p>相信注意到了，实例化对象的语句中使用的是类名加()，很像是在调用函数：</p>
<pre><code class="hljs language-java">g = <span class="hljs-keyword">new</span> Good();
</code></pre>
<p>其实确实是这样，这个函数叫做构造函数，默认的构造函数参数为空，而我们可以为类亲自写一个构造函数：</p>
<pre><code class="hljs language-java">struct Good {
    <span class="hljs-keyword">int</span> id;
    <span class="hljs-keyword">int</span> stock;
    <span class="hljs-keyword">float</span> price;
    
    Good(<span class="hljs-keyword">int</span> id, <span class="hljs-keyword">int</span> stock, <span class="hljs-keyword">float</span> price) {
        
    }
    
    <span class="hljs-comment">// ...</span>
}；
</code></pre>
<p>构造函数就是一个名字与类名相同的函数，参数随意，其作用就是”构造”，比如可以传进去 <code><span class="hljs-built_in">id</span></code>，<code><span class="hljs-attribute">stock</span></code>，<code><span class="hljs-attribute">price</span></code> 直接为此对象完成初始化。</p>
<p>按照局部优先，如果参数名与属性名相同的话，用 <code><span class="hljs-built_in">id</span></code> 访问到的其实是参数的 <code><span class="hljs-built_in">id</span></code> 而非这个对象内部的属性 <code><span class="hljs-built_in">id</span></code> 。</p>
<p>所以需要让参数名改一改才行：</p>
<pre><code class="hljs language-java">Good(<span class="hljs-keyword">int</span> _id, <span class="hljs-keyword">int</span> _stock, <span class="hljs-keyword">float</span> _price) {
	id = _id;
    stock = _stock;
    price = _price;
}
</code></pre>
<p>或者有一个新的东西叫做 <code><span class="hljs-keyword">this</span></code> 它代表的是当前的对象：</p>
<pre><code class="hljs language-java">Good(<span class="hljs-keyword">int</span> id, <span class="hljs-keyword">int</span> stock, <span class="hljs-keyword">float</span> price) {
	<span class="hljs-keyword">this</span>.id = id;
    <span class="hljs-keyword">this</span>.stock = stock;
    <span class="hljs-keyword">this</span>.price = price;
}
</code></pre>
<p>都可以实现在实例化的时候就为对象初始化属性值的功能。</p>
<p>主方法：</p>
<pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
    Good g;

    g = <span class="hljs-keyword">new</span> Good(<span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9.96f</span>);

    g.printInfo();
}
</code></pre>
<p>得到输出：</p>
<pre><code class="hljs"><span class="hljs-attribute">id</span>: <span class="hljs-number">1</span>
<span class="hljs-attribute">stock</span>: <span class="hljs-number">7</span>
<span class="hljs-attribute">price</span>: <span class="hljs-number">9</span>.<span class="hljs-number">96</span>
</code></pre>
<h2>三、所谓的 “面向对象” 到底是什么</h2>
<p>现在大概已经对 <strong>类</strong> 和 <strong>对象</strong> 有了初步的理解。</p>
<p>我们一直在说 <strong>C语言</strong> 是面向过程的，而 <strong>Java语言</strong> 是面向对象的，那这两个词到底是什么意思呢？</p>
<p>考虑一个图书管理系统，用 <strong>C语言</strong> 来写的话，是考虑一个个的功能，去实现一个个的函数，再把这些函数串起来，像是你学会了做一件件事情的方法，然后去使用这一个个方法达成目标；而用 <strong>Java语言</strong> 来写的话，是一个个的类，每一个类有自己的属性和方法，像是你教会了一个个小人他们的职责，然后指挥一个个小人去做事情。</p>
<p>例如上面的购买商品的例子：</p>
<p><strong>面向过程</strong> ，算法 + 数据结构，是考虑到 <strong>商品购买</strong>，实现购买商品的函数。当整个项目体量很大的时候，用这种思考方式要考虑的内容实在太多。</p>
<p><strong>面向对象</strong> ，是考虑 <strong>商品本身</strong>，商品本身的属性以及它所能有的行为（例如：被购买，数量减少），还有商品与其他类型的对象之间的关系。就算当整个项目体量很大，再具体实现某一个类的某一个方法的时候，需要考虑的内容要没有那么复杂，同时这种思维方式也更接近人一些。当你将项目中的对象们都完善完成，你会发现，整个项目十分清晰。</p>
<p>之后还要接触到 <strong>Java类</strong> 的 <strong>继承</strong>，<strong>多态</strong> 等一系列性质，对 <strong>面向对象</strong> 的理解也会逐步加深。</p>
<hr>
<p>以上。</p>

                    </div>
                </article>
            </div>

        </div>
    </div>
</body>
</html>
